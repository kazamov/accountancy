<button
	*ngIf="user"
	mat-mini-fab
	[matMenuTriggerFor]="posXMenu"
	aria-label="Open x-positioned menu"
	[style.background-image]="'url(' + (user?.photoURL || '') + ')'"
	style="background-size: cover"
	[matTooltip]="user?.displayName"
>
	{{ displayNameInitials }}
</button>

<mat-menu xPosition="before" #posXMenu="matMenu" class="before">
	<div
		fxLayout="row"
		fxLayout.xs="column"
		style="padding-left: 10px; padding-right: 10px"
	>
		<button
			mat-fab
			[style.background-image]="'url(' + (user?.photoURL || '') + ')'"
			style="background-size: cover"
		>
			{{ displayNameInitials }}
		</button>
		<div fxLayout="column" style="padding-left: 10px; padding-right: 10px">
			<strong mat-card-title>{{ user?.displayName }}</strong>
			<em mat-card-subtitle style="font-style: italic">{{
				user?.email
			}}</em>
		</div>
	</div>

	<div fxLayout="column" fxFlex="100">
		<div *ngFor="let menuItem of links">
			<button mat-menu-item (click)="(menuItem.callback)">
				{{ menuItem.text }}
			</button>
		</div>
		<button
			mat-raised-button
			fxLayoutAlign="center"
			color="primary"
			(click)="openProfile()"
		>
			Profile
		</button>
		<button
			*ngIf="canLogout"
			mat-raised-button
			fxLayoutAlign="center"
			color="warn"
			(click)="signOut()"
		>
			Sign Out
		</button>
	</div>
</mat-menu>
